<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ماشین‌حساب پیشرفته</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap"
    />
  </head>
  <body>
    <div class="bg"></div>

    <main class="container">
      <header class="top">
        <h1>ماشین‌حساب پیشرفته</h1>
        <button id="helpBtn" class="help">راهنما</button>
      </header>

      <section class="calculator">
        <div class="display" id="display" aria-live="polite">0</div>

        <div class="keys">
          <div class="row">
            <button class="op" data-val="7">7</button>
            <button class="op" data-val="8">8</button>
            <button class="op" data-val="9">9</button>
            <button class="fn" data-fn="divide">÷</button>
          </div>
          <div class="row">
            <button class="op" data-val="4">4</button>
            <button class="op" data-val="5">5</button>
            <button class="op" data-val="6">6</button>
            <button class="fn" data-fn="multiply">×</button>
          </div>
          <div class="row">
            <button class="op" data-val="1">1</button>
            <button class="op" data-val="2">2</button>
            <button class="op" data-val="3">3</button>
            <button class="fn" data-fn="subtract">−</button>
          </div>
          <div class="row">
            <button class="op" data-val="0">0</button>
            <button class="op" data-val=".">.</button>
            <button id="clear">C</button>
            <button class="fn" data-fn="add">+</button>
          </div>

          <div class="row advanced">
            <button class="adv" data-adv="pow">xʸ</button>
            <button class="adv" data-adv="sqrt">√</button>
            <button class="adv" data-adv="sin">sin</button>
            <button class="adv" data-adv="cos">cos</button>
          </div>
          <div class="row advanced">
            <button class="adv" data-adv="tan">tan</button>
            <button class="adv" data-adv="log10">log₁₀</button>
            <button id="equals" class="equals">=</button>
          </div>
        </div>

        <aside class="converter">
          <h2>تبدیل مبنا</h2>
          <label
            >عدد (صحیح): <input id="baseInput" placeholder="مثلاً 1010 یا 123"
          /></label>
          <div class="selects">
            <label
              >از:
              <select id="fromBase">
                <option value="2">2</option>
                <option value="8">8</option>
                <option value="10" selected>10</option>
              </select>
            </label>
            <label
              >به:
              <select id="toBase">
                <option value="2">2</option>
                <option value="8">8</option>
                <option value="10" selected>10</option>
              </select>
            </label>
          </div>
          <button id="convertBtn">تبدیل</button>
          <div id="convertResult" class="convertResult">—</div>
        </aside>
      </section>
    </main>

    <div id="helpModal" class="modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-label="راهنمای ماشین حساب">
        <button id="closeHelp" class="close">✕</button>
        <h3>راهنما</h3>
        <ul>
          <li>
            برای محاسبه ساده: اعداد را فشار دهید، سپس + − × ÷ و در نهایت =
          </li>
          <li>توان: عدد را وارد کنید → xʸ → توان را وارد کنید → =</li>
          <li>جذر: عدد را وارد کنید → √ (نتیجه جذر مثبت)</li>
          <li>توابع مثلثاتی از رادیان استفاده می‌کنند.</li>
          <li>لگاریتم ln: طبیعی، log₁₀: پایه 10.</li>
          <li>تبدیل مبنا فقط برای اعداد صحیح کار می‌کند.</li>
        </ul>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
